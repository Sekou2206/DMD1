<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails Vente | DMD AUTO</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg-color: #0b0b0b; 
            --text-color: #d1d1d1; 
            --accent-color: #e6e6e6; 
            --bg-card: #141414; 
            --border-color: #333; 
            --font-title: 'Playfair Display', serif; 
            --font-body: 'Lato', sans-serif; 
            --font-tech: 'Lato', sans-serif; 
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: var(--bg-color); color: var(--text-color); font-family: var(--font-body); font-weight: 300; overflow-x: hidden; }
        a { text-decoration: none; color: inherit; transition: 0.3s; } 
        img { max-width: 100%; height: auto; display: block; }
        
        /* HEADER */
        header { position: fixed; top: 0; width: 100%; padding: 25px 50px; display: flex; justify-content: space-between; align-items: center; background: rgba(10,10,10,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border-color); z-index: 1000; transition: 0.4s; }
        header.scrolled { padding: 15px 30px; }
        .nav-group { flex: 1; display: flex; gap: 40px; } .nav-group.left { justify-content: flex-start; } .nav-group.right { justify-content: flex-end; }
        .logo-container { flex: 0 0 auto; margin: 0 20px; text-align: center; }
        .logo { font-family: var(--font-title); font-size: 1.5rem; font-weight: 400; letter-spacing: 4px; color: var(--accent-color); text-transform: uppercase; position: relative; display: inline-block; cursor: pointer; }
        .logo::after { content: 'AUTO'; display: block; font-size: 0.6rem; letter-spacing: 8px; margin-top: 5px; font-family: var(--font-body); font-weight: 300; color: #888; }
        .nav-link { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; position: relative; color: #888; }
        .nav-link:hover, .nav-link.active { color: var(--accent-color); }
        .nav-link::after { content: ''; position: absolute; bottom: -5px; left: 50%; width: 0; height: 1px; background: var(--accent-color); transition: 0.3s; }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; left: 0; }
        .menu-toggle { display: none; cursor: pointer; font-size:1.5rem; color:#fff; }

        /* MAIN LAYOUT */
        main { padding-top: 100px; min-height: 100vh; padding-bottom: 80px; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; flex-wrap: wrap; gap: 40px; }
        .left-col { flex: 1.2; min-width: 300px; }
        .right-col { flex: 0.8; min-width: 300px; display: flex; flex-direction: column; }

        /* CAR INFO */
        h1.car-title { font-family: var(--font-title); font-size: clamp(2.5rem, 5vw, 3.5rem); margin-bottom: 10px; line-height: 1.1; }
        .car-specs { color: #888; margin-bottom: 30px; font-size: 1rem; letter-spacing: 1px; font-family: var(--font-tech); text-transform: uppercase; }
        
        /* Description Text */
        #car-desc { margin-bottom: 40px; color: #aaa; line-height: 1.8; text-align: justify; border-left: 3px solid var(--border-color); padding-left: 20px; font-size: 1rem; }

        /* CAROUSEL - CORRECTED */
        .carousel-container { position: relative; width: 100%; margin-bottom: 40px; border: 1px solid var(--border-color); overflow: hidden; background: #000; }
        .carousel-track { display: flex; transition: transform 0.5s ease-in-out; }
        .carousel-slide { 
            width: 100%;          
            flex: 0 0 100%;       
            height: 500px; 
            background: #111;     
        }
        .carousel-slide img { width: 100%; height: 100%; object-fit: cover; }
        .carousel-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); color: #fff; border: none; padding: 15px; cursor: pointer; z-index: 2; font-size: 2rem; transition: 0.3s; }
        .carousel-btn:hover { background: rgba(255,255,255,0.8); color: #000; }
        .prev-btn { left: 0; }
        .next-btn { right: 0; }

        /* TECHNICAL SHEET */
        .technical-sheet {
            background: #111;
            border: 1px solid var(--border-color);
            padding: 30px;
            margin-bottom: 40px;
        }
        .section-title-tech {
            font-family: var(--font-tech);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #666;
            margin-bottom: 25px;
            display: block;
            border-bottom: 1px solid #222;
            padding-bottom: 10px;
        }
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 30px;
        }
        .tech-item {
            display: flex;
            flex-direction: column;
        }
        .tech-label {
            font-size: 0.75rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }
        .tech-value {
            font-size: 1.1rem;
            color: #fff;
            font-weight: 700;
            font-family: var(--font-tech);
        }
        .tech-equip-list {
            list-style: none;
            border-top: 1px solid #222;
            padding-top: 20px;
        }
        .tech-equip-list li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 8px;
            color: #ccc;
            font-size: 0.9rem;
        }
        .tech-equip-list li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: #555;
        }

        /* PRICE SECTION */
        .price-section { background: #111; padding: 40px 30px; border: 1px solid var(--border-color); position: sticky; top: 100px; }
        .price-tag { font-size: 3rem; font-weight: 400; color: #fff; margin-bottom: 10px; display: block; font-family: var(--font-title); }
        .price-sub { font-size: 0.9rem; color: #666; margin-bottom: 30px; display: block; }
        
        .btn-action { width: 100%; padding: 18px; background: #000; border: 1px solid var(--border-color); color: #fff; font-family: var(--font-tech); text-transform: uppercase; letter-spacing: 1.5px; font-size: 0.75rem; cursor: pointer; transition: all 0.3s ease; font-weight: 700; margin-bottom: 15px; }
        .btn-action:hover { border-color: #fff; background: #0a0a0a; }
        .btn-action.primary { background: #fff; color: #000; border-color: #fff; }
        .btn-action.primary:hover { background: #ddd; }

        .conditions-box { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out; background: #0f0f0f0; border-left: 2px solid #fff; }
        .conditions-box.open { max-height: 500px; padding: 30px; margin-top: 20px; overflow-y: auto; }
        .cond-list li { margin-bottom: 12px; color: #ccc; line-height: 1.6; list-style: disc; margin-left: 20px; font-size: 0.95rem; }
        .cond-title { font-family: var(--font-title); font-size: 1.3rem; margin-bottom: 20px; color: #fff; border-bottom: 1px solid #333; padding-bottom: 10px; }

        /* FOOTER */
        footer { background: #000; padding: 80px 5%; border-top: 1px solid var(--border-color); }
        .footer-grid { display: grid; grid-template-columns: 1fr 1fr 1.5fr; gap: 60px; max-width: 1400px; margin: 0 auto; }
        .footer-col h4 { font-family: var(--font-tech); font-size: 0.9rem; margin-bottom: 25px; color: #fff; letter-spacing: 2px; text-transform: uppercase; font-weight: 700; }
        .footer-col p { color: #888; line-height: 1.8; font-size: 0.9rem; margin-bottom: 20px; }
        .socials a { margin-right: 20px; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: #fff; }
        .footer-links li { margin-bottom: 12px; }
        .footer-links a { color: #888; transition: 0.3s; font-size: 0.9rem; }
        .footer-links a:hover { color: #fff; padding-left: 5px; }
        .map-container { width: 100%; height: 200px; background: #1a1a1a; margin-bottom: 20px; overflow: hidden; border: 1px solid #333; }
        .map-container iframe { width: 100%; height: 100%; border: 0; filter: grayscale(100%) invert(92%) contrast(83%); }
        .btn-footer { width: 100%; padding: 15px; background: #fff; color: #000; border: none; text-transform: uppercase; letter-spacing: 2px; font-weight: 600; cursor: pointer; transition: 0.3s; }
        .btn-footer:hover { background: #ccc; }
        .copyright { margin-top: 80px; text-align: center; font-size: 0.7rem; color: #444; border-top: 1px solid #111; padding-top: 20px; }

        @media (max-width: 992px) { 
            header { flex-direction: column; padding: 15px; height: auto; } 
            .nav-group { display: none; width: 100%; flex-direction: column; text-align: center; padding: 20px 0; background: #050505; } 
            .nav-group.active { display: flex; } 
            .logo-container { margin: 15px 0; } 
            .menu-toggle { display: block; position: absolute; right: 20px; top: 25px; } 
            .container { flex-direction: column; } 
            h1.car-title { font-size: 2.5rem; } 
            .footer-grid { grid-template-columns: 1fr; gap: 30px; }
            .tech-grid { grid-template-columns: 1fr; }
            .price-section { position: static; margin-top: 30px; } /* Prix non sticky sur mobile */
            
            /* Carousel Height Adjusted for Mobile */
            .carousel-slide { height: 350px; } /* Réduit la hauteur de l'image sur mobile */
        }
    </style>
</head>
<body>
    <header id="main-header">
        <div class="menu-toggle" onclick="toggleMenu()">☰</div>
        <ul class="nav-group left"><li><a href="index.html" class="nav-link">Accueil</a></li><li><a href="services.html" class="nav-link">Location</a></li><li><a href="vente.html" class="nav-link active">Vente</a></li></ul>
        <div class="logo-container"><a href="index.html" class="logo">DMD</a></div>
        <ul class="nav-group right"><li><a href="depot.html" class="nav-link">Dépôt Vente</a></li><li><a href="recherche.html" class="nav-link">Recherche</a></li><li><a href="contact.html" class="nav-link">Contact</a></li></ul>
    </header>

    <main>
        <div class="container">
            <div class="left-col">
                <!-- TITRE DYNAMIQUE -->
                <h1 class="car-title" id="car-title">Chargement...</h1>
                <p class="car-specs" id="car-specs">...</p>
                
                <!-- DESCRIPTION PRINCIPALE -->
                <div id="car-desc">...</div>
                
                <!-- CAROUSEL -->
                <div class="carousel-container">
                    <div class="carousel-track" id="track">
                        <!-- Rempli par JS -->
                    </div>
                    <button class="carousel-btn prev-btn" onclick="moveCarousel(-1)">&#10094;</button>
                    <button class="carousel-btn next-btn" onclick="moveCarousel(1)">&#10095;</button>
                </div>

                <!-- FICHE TECHNIQUE -->
                <div class="technical-sheet">
                    <span class="section-title-tech">Fiche Technique & Équipements</span>
                    <div id="tech-content">
                        <!-- Injecté par JS -->
                    </div>
                </div>
            </div>

            <div class="right-col">
                <!-- SECTION PRIX -->
                <div class="price-section">
                    <span class="section-label" style="font-size:0.75rem; text-transform:uppercase; letter-spacing:2px; color:#666;">Prix de Vente</span>
                    <span class="price-tag" id="price-tag">...</span>
                    <span class="price-sub">TTC • Garantie incluse</span>
                    
                    <button class="btn-action primary" onclick="toggleCond('achat')">Voir Conditions Achat</button>
                    <button class="btn-action" onclick="window.location.href='contact.html'">Contacter le vendeur</button>
                    
                    <div id="cond-achat" class="conditions-box">
                        <h3 class="cond-title">Documents Requis pour l'Achat</h3>
                        <ul class="cond-list">
                            <li>Pièce d'identité en cours de validité (CNI ou Passeport)</li>
                            <li>Justificatif de domicile de moins de 3 mois</li>
                            <li>Relevé d'identité bancaire (RIB)</li>
                            <li>Permis de conduire</li>
                            <li>Justificatif de revenus (si financement)</li>
                        </ul>
                        <div style="margin-top:25px; text-align:center;">
                            <a href="https://wa.me/1234567890" class="btn-action primary" target="_blank" style="display:block; text-align:center; border:none;">Discuter sur WhatsApp</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-grid">
            <div class="footer-col">
                <div class="logo" style="margin-bottom: 20px;">DMD</div>
                <p>L'excellence automobile. Une sélection stricte de véhicules d'exception pour une clientèle exigeante.</p>
                <div class="socials">
                    <a href="#">Instagram</a> 
                    <a href="#">Facebook</a>
                    <a href="#">LinkedIn</a>
                </div>
            </div>
            <div class="footer-col">
                <h4>Navigation</h4>
                <ul class="footer-links">
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="services.html">Location</a></li>
                    <li><a href="vente.html">Vente</a></li>
                    <li><a href="depot.html">Dépôt Vente</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Nous Trouver</h4>
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.215013230877!2d2.292292615509614!3d48.85837007928757!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e2964e34e2d%3A0x8ddca9ee380ef7e0!2sTour%20Eiffel!5e0!3m2!1sfr!2sfr&output=embed" allowfullscreen="" loading="lazy"></iframe>
                </div>
                <a href="contact.html"><button class="btn-footer">Prendre Rendez-vous</button></a>
            </div>
        </div>
        <p class="copyright">&copy; 2023 DMD AUTO. Tous droits réservés.</p>
    </footer>

    <script>
        // BASE DE DONNÉES VÉHICULES (MISE À JOUR)
        const carData = [
            // ID 0: AUDI RS7
            {
                id: 0,
                title: "Audi RS7 Sportback",
                specs: "2023 • 2 000 km • 600 Ch",
                desc: "Le summum de la technologie et du design allemand. Avec son bi-turbo V8 et son look Sportback agressif, l'RS7 offre une expérience de conduite aussi confortable que foudroyante.",
                price: "145 000 €",
                images: [
                    "audirs7.jpg"
                ],
                techContent: `
                    <div class="tech-grid">
                        <div class="tech-item"><span class="tech-label">Moteur</span><span class="tech-value">V8 4.0L TFSI</span></div>
                        <div class="tech-item"><span class="tech-label">Puissance</span><span class="tech-value">600 ch</span></div>
                        <div class="tech-item"><span class="tech-label">0-100 km/h</span><span class="tech-value">3.6 s</span></div>
                        <div class="tech-item"><span class="tech-label">Traction</span><span class="tech-value">Quattro AWD</span></div>
                        <div class="tech-item"><span class="tech-label">Transmission</span><span class="tech-value">Tiptronic 8</span></div>
                        <div class="tech-item"><span class="tech-label">Places</span><span class="tech-value">5</span></div>
                    </div>
                    <ul class="tech-equip-list">
                        <li>Phares Matrix LED avec lasers</li>
                        <li>Système audio Bang & Olufsen 3D</li>
                        <li>Suspension pneumatique adaptative</li>
                        <li>Virtual Cockpit complet</li>
                        <li>Sièges en cuir Valcona chauffants</li>
                    </ul>
                `
            },
            // ID 1: LOWRIDER
            {
                id: 1,
                title: "Custom Lowrider",
                specs: "1972 • Custom • Hydraulique",
                desc: "Une pièce de collection unique et rebelle. Carrosserie customisée, peinture Candy profonde, et système hydraulique pour danser sur l'asphalte.",
                price: "85 000 €",
                images: [
                    "lowrider.jpg"
                ],
                techContent: `
                    <div class="tech-grid">
                        <div class="tech-item"><span class="tech-label">Moteur</span><span class="tech-value">V8 Big Block</span></div>
                        <div class="tech-item"><span class="tech-label">Style</span><span class="tech-value">Lowrider Custom</span></div>
                        <div class="tech-item"><span class="tech-label">Suspension</span><span class="tech-value">Hydraulique 2 Pump</span></div>
                        <div class="tech-item"><span class="tech-label">Peinture</span><span class="tech-value">Candy Blue Multi-Layer</span></div>
                        <div class="tech-item"><span class="tech-label">Jantes</span><span class="tech-value">Spokes Chrome Gold</span></div>
                        <div class="tech-item"><span class="tech-label">Intérieur</span><span class="tech-value">Velours Custom</span></div>
                    </div>
                    <ul class="tech-equip-list">
                        <li>Système audio Hi-Power avec caissons</li>
                        <li>Sous-carrosserie néon</li>
                        <li>Chaines en or dorées à la main</li>
                        <li>Volant banane tressé</li>
                    </ul>
                `
            },
            // ID 2: VW GOLF 7R (PAR DÉFAUT)
            {
                id: 2,
                title: "VW Golf 7R",
                specs: "2019 • 35 000 km • 310 Ch",
                desc: "La légende des compactes sportives. Le 2.0 TSI associé à la transmission intégrale 4Motion offre une motricité exceptionnelle.",
                price: "44 900 €",
                images: [
                    "golf1.jpg",
                    "golf2.jpg",
                    "golf3.jpg",
                    "golf4.jpg",
                    "golf5.jpg"
                ],
                techContent: `
                    <div class="tech-grid">
                        <div class="tech-item"><span class="tech-label">Moteur</span><span class="tech-value">4 Cylindres TSI</span></div>
                        <div class="tech-item"><span class="tech-label">Puissance</span><span class="tech-value">310 ch</span></div>
                        <div class="tech-item"><span class="tech-label">0-100 km/h</span><span class="tech-value">4.6 s</span></div>
                        <div class="tech-item"><span class="tech-label">Traction</span><span class="tech-value">4Motion (Intégrale)</span></div>
                        <div class="tech-item"><span class="tech-label">Boîte</span><span class="tech-value">DSG 6 rapports</span></div>
                        <div class="tech-item"><span class="tech-label">Places</span><span class="tech-value">5</span></div>
                    </div>
                    <ul class="tech-equip-list">
                        <li>Échappement Akrapovic Titanium</li>
                        <li>Différentiel Vectoring (VAQ)</li>
                        <li>Châssis DCC (Adaptatif)</li>
                        <li>Système Discover Pro Navigation</li>
                        <li>Feux LED Signature</li>
                    </ul>
                `
            },
            // ID 3: PORSCHE GT3 RS
            {
                id: 3,
                title: "Porsche 911 GT3 RS",
                specs: "2022 • 1 500 km • 525 Ch",
                desc: "La Porsche de piste homologuée pour la route. Aérodynamique agressive, aileron DRS géant.",
                price: "380 000 €",
                images: [
                    "gt3rs.jpg"
                ],
                techContent: `
                    <div class="tech-grid">
                        <div class="tech-item"><span class="tech-label">Moteur</span><span class="tech-value">Flat-6 4.0L Atmo</span></div>
                        <div class="tech-item"><span class="tech-label">Puissance</span><span class="tech-value">525 ch</span></div>
                        <div class="tech-item"><span class="tech-label">0-100 km/h</span><span class="tech-value">3.2 s</span></div>
                        <div class="tech-item"><span class="tech-label">Régime Max</span><span class="tech-value">9 000 tr/min</span></div>
                        <div class="tech-item"><span class="tech-label">Boîte</span><span class="tech-value">PDK 7 rapports</span></div>
                        <div class="tech-item"><span class="tech-label">Aile</span><span class="tech-value">Active (DRS)</span></div>
                    </div>
                    <ul class="tech-equip-list">
                        <li>Freins carbone-céramique (PCCB)</li>
                        <li>Sièges Bucket carbone (Weissach)</li>
                        <li>Cage de sécurité titane (option)</li>
                        <li>Echappement titane sport</li>
                        <li>Jantes magnésium forgées</li>
                    </ul>
                `
            }
        ];

        // LOGIQUE DE CHARGEMENT
        const urlParams = new URLSearchParams(window.location.search);
        const carId = urlParams.get('car');
        // Par défaut, on charge l'ID 2 (Golf 7R)
        const currentCar = carData[carId] || carData[2];

        // CHARGEMENT DU DOM
        document.addEventListener('DOMContentLoaded', () => {
            document.title = `${currentCar.title} | Vente | DMD AUTO`;
            
            document.getElementById('car-title').innerText = currentCar.title;
            document.getElementById('car-specs').innerText = currentCar.specs;
            document.getElementById('car-desc').innerText = currentCar.desc;
            document.getElementById('price-tag').innerText = currentCar.price;
            document.getElementById('tech-content').innerHTML = currentCar.techContent;

            // Images Carousel
            const track = document.getElementById('track');
            track.innerHTML = currentCar.images.map(src => `<div class="carousel-slide"><img src="${src}" alt="${currentCar.title}" onerror="this.style.display='none'"></div>`).join('');
        });

        // LOGIQUE CARROUSEL
        let currentIndex = 0;
        let slides = []; 
        
        function initSlides() {
            slides = document.querySelectorAll('.carousel-slide');
        }

        function moveCarousel(direction) {
            if(slides.length === 0) initSlides();
            currentIndex += direction;
            if (currentIndex < 0) currentIndex = slides.length - 1;
            if (currentIndex >= slides.length) currentIndex = 0;
            const track = document.getElementById('track');
            track.style.transform = `translateX(-${currentIndex * 100}%)`;
        }

        window.addEventListener('load', initSlides);

        // CONDITION TOGGLE
        function toggleCond(type) { 
            const box = document.getElementById('cond-' + type); 
            const allBoxes = document.querySelectorAll('.conditions-box'); 
            allBoxes.forEach(b => { if(b !== box) b.classList.remove('open'); }); 
            box.classList.toggle('open'); 
        }

        function toggleMenu() { 
            document.querySelectorAll('.nav-group').forEach(g => g.classList.toggle('active')); 
        }

        /* SCROLL HEADER */
        window.addEventListener('scroll', () => {
            const header = document.getElementById('main-header');
            header.classList.toggle('scrolled', window.scrollY > 50);
        });
    </script>
</body>
</html>